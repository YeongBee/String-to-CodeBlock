<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코드 블록 생성기 (언어 선택 가능)</title>
    <!-- Highlight.js 스타일 테마 (다른 테마 예: monokai, github, dracula 등) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 1200px; margin: 0 auto; }
        .container { display: flex; gap: 20px; }
        .box { flex: 1; display: flex; flex-direction: column; }
        textarea { width: 100%; height: 400px; padding: 10px; font-family: monospace; border: 1px solid #ccc; font-size: 14px; }
        #output-area { border: 1px solid #ccc; background: #1e1e1e; padding: 0; margin: 0; overflow: auto; height: 400px; position: relative; }
        pre { margin: 0; min-height: 100%; display: block; }
        code { font-family: 'Consolas', 'Monaco', monospace; min-height: 100%; display: block; padding: 1em; box-sizing: border-box; font-size: 14px; line-height: 1.5; }
        
        .controls { margin-bottom: 20px; display: flex; gap: 10px; align-items: center; background: #f5f5f5; padding: 15px; border-radius: 8px; }
        select { padding: 10px; font-size: 16px; min-width: 150px; cursor: pointer; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; background-color: #007bff; color: white; border: none; border-radius: 5px; }
        button:hover { background-color: #0056b3; }
    </style>
</head>
<body>

    <h1>Code Syntax Highlighter</h1>
    <p>원하는 언어를 선택하고 코드를 입력하면 하이라이팅된 결과를 볼 수 있습니다.</p>

    <!-- 컨트롤 영역: 언어 선택 및 변환 버튼 -->
    <div class="controls">
        <label for="language-select">언어 선택:</label>
        <select id="language-select" onchange="convertCode()">
            <option value="java">Java</option>
            <option value="python">Python</option>
            <option value="json">JSON</option>
            <option value="sql">SQL</option>
            <option value="javascript">JavaScript</option>
            <option value="html">HTML/XML</option>
            <option value="bash">Bash/Shell</option>
            <option value="yaml">YAML</option>
            <option value="cpp">C++</option>
            <option value="csharp">C#</option>
            <option value="go">Go</option>
        </select>
        <button onclick="convertCode()">변환하기 (Highlight)</button>
    </div>

    <div class="container">
        <div class="box">
            <h3>Input Code</h3>
            <textarea id="input-code" placeholder="여기에 코드를 붙여넣으세요..."></textarea>
        </div>

        <div class="box">
            <h3>Output Block</h3>
            <div id="output-area">
                <pre><code id="result-code" class="language-java"></code></pre>
            </div>
        </div>
    </div>

    <!-- Highlight.js 라이브러리 로드 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        function convertCode() {
            const input = document.getElementById('input-code').value;
            const language = document.getElementById('language-select').value;
            const resultElement = document.getElementById('result-code');

            // 1. 입력된 텍스트 넣기
            resultElement.textContent = input;

            // 2. 기존 하이라이팅 속성 초기화 (재변환 시 필수)
            resultElement.removeAttribute('data-highlighted');
            
            // 3. 선택된 언어 클래스 적용 (예: language-python)
            // 모든 클래스를 지우고 새로 선택된 언어 클래스만 추가
            resultElement.className = `language-${language}`;

            // 4. 하이라이팅 실행
            hljs.highlightElement(resultElement);
        }

        // 초기 로드 시 예제 코드 실행 (Java가 기본 선택)
        window.onload = function() {
            document.getElementById('input-code').value = 'public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println("Hello, World!");\n    }\n}';
            convertCode();
        };
    </script>
</body>
</html>
