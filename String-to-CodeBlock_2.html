<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코드 하이라이터 (언어 + 테마 선택)</title>
    <!-- 기본 테마: VS 2015 -->
    <link id="theme-link" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; max-width: 1200px; margin: 0 auto; background-color: #f0f2f5; }
        h1 { color: #333; text-align: center; margin-bottom: 30px; }
        
        .controls { 
            background: white; 
            padding: 20px; 
            border-radius: 12px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .control-group { display: flex; align-items: center; gap: 10px; }
        label { font-weight: 600; color: #555; }
        select { padding: 8px 12px; font-size: 15px; border: 1px solid #ddd; border-radius: 6px; min-width: 150px; }
        
        button { 
            padding: 10px 25px; 
            font-size: 16px; 
            cursor: pointer; 
            background-color: #007bff; 
            color: white; 
            border: none; 
            border-radius: 6px; 
            font-weight: 600;
            transition: background-color 0.2s;
        }
        button:hover { background-color: #0056b3; }

        .container { display: flex; gap: 20px; height: 600px; }
        .box { flex: 1; display: flex; flex-direction: column; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .box-header { background: #f8f9fa; padding: 15px; border-bottom: 1px solid #eee; font-weight: bold; color: #444; }
        
        textarea { 
            width: 100%; 
            height: 100%; 
            padding: 20px; 
            font-family: 'Consolas', 'Monaco', monospace; 
            border: none; 
            resize: none; 
            font-size: 14px; 
            outline: none;
            box-sizing: border-box;
        }

        #output-area { 
            height: 100%; 
            margin: 0; 
            overflow: auto; 
            position: relative; 
            background: #1e1e1e; /* 테마 로딩 전 기본 배경 */
        }
        
        pre { margin: 0; min-height: 100%; }
        code { 
            font-family: 'Consolas', 'Monaco', monospace; 
            min-height: 100%; 
            padding: 20px !important; 
            font-size: 14px; 
            line-height: 1.6;
            box-sizing: border-box;
        }
    </style>
</head>
<body>

    <h1>Code Syntax Highlighter</h1>

    <div class="controls">
        <div class="control-group">
            <label for="language-select">언어:</label>
            <select id="language-select" onchange="convertCode()">
                <option value="java">Java</option>
                <option value="python">Python</option>
                <option value="json">JSON</option>
                <option value="sql">SQL</option>
                <option value="javascript">JavaScript</option>
                <option value="html">HTML / XML</option>
                <option value="css">CSS</option>
                <option value="bash">Bash / Shell</option>
                <option value="cpp">C++</option>
                <option value="csharp">C#</option>
                <option value="go">Go</option>
                <option value="rust">Rust</option>
                <option value="yaml">YAML</option>
            </select>
        </div>

        <div class="control-group">
            <label for="theme-select">테마:</label>
            <select id="theme-select" onchange="changeTheme()">
                <option value="vs2015">VS 2015 (Dark)</option>
                <option value="vs">Visual Studio (Light)</option>
                <option value="github">GitHub (Light)</option>
                <option value="github-dark">GitHub (Dark)</option>
                <option value="monokai">Monokai</option>
                <option value="dracula">Dracula</option>
                <option value="atom-one-dark">Atom One Dark</option>
                <option value="atom-one-light">Atom One Light</option>
                <option value="solarized-dark">Solarized Dark</option>
                <option value="solarized-light">Solarized Light</option>
                <option value="default">Default</option>
            </select>
        </div>

        <button onclick="convertCode()">변환하기</button>
    </div>

    <div class="container">
        <!-- 입력 창 -->
        <div class="box">
            <div class="box-header">Input Code</div>
            <textarea id="input-code" placeholder="여기에 코드를 붙여넣으세요..."></textarea>
        </div>

        <!-- 결과 창 -->
        <div class="box">
            <div class="box-header">Preview</div>
            <div id="output-area">
                <pre><code id="result-code" class="language-java"></code></pre>
            </div>
        </div>
    </div>

    <!-- Highlight.js 라이브러리 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        // 코드 변환 함수
        function convertCode() {
            const input = document.getElementById('input-code').value;
            const language = document.getElementById('language-select').value;
            const resultElement = document.getElementById('result-code');

            // 텍스트 설정
            resultElement.textContent = input;

            // 하이라이팅 초기화 (이전 클래스 제거)
            resultElement.removeAttribute('data-highlighted');
            resultElement.className = `language-${language}`;

            // 하이라이팅 적용
            hljs.highlightElement(resultElement);
        }

        // 테마 변경 함수
        function changeTheme() {
            const themeName = document.getElementById('theme-select').value;
            const themeLink = document.getElementById('theme-link');
            // CDN 주소의 파일명만 교체
            themeLink.href = `https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/${themeName}.min.css`;
        }

        // 페이지 로드 시 초기값 설정
        window.onload = function() {
            document.getElementById('input-code').value = 'public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println("Hello, Highlight.js!");\n    }\n}';
            convertCode();
        };
    </script>
</body>
</html>
